{% extends "base.html" %}

{% block title %} Download {% endblock %}

{% block content %}
<div class="mb-3">
	<ul class="nav nav-tabs" role="tablist">
		<li class="nav-item" role="presentation">
			<button class="nav-link active" id="key-tab" data-bs-toggle="tab" data-bs-target="#key-tab-pane" type="button"
				role="tab" aria-controls="key-tab-pane" aria-selected="true">Key</button>
		</li>
		<li class="nav-item" role="presentation">
			<button class="nav-link" id="browse-tab" data-bs-toggle="tab" data-bs-target="#browse-tab-pane" type="button"
				role="tab" aria-controls="browse-tab-pane" aria-selected="false">Browse</button>
		</li>
	</ul>
	<div class="tab-content">
		<div class="tab-pane fade show active" id="key-tab-pane" role="tabpanel" aria-labelledby="key-tab" tabindex="0">
			<form action="{{ url_for('download.download') }}" method="POST" name="download_form">
				<div class="mb-3 text_input">
					<label for="download_id" class="form-label">File ID</label>
					<input type="password" class="form-control" id="download_id" name="download_id">
				</div>
				<div class="mb-3">
					<input type="button" class="btn btn-dark" onclick="submitForm()" value="Download">
				</div>
			</form>
		</div>
		<div class="tab-pane fade" id="browse-tab-pane" role="tabpanel" aria-labelledby="browse-tab" tabindex="0">
			<table class="table table-hover">
				<thead>
					<tr>
						<th scope="col">Name</th>
						<th scope="col">Key</th>
						<th scope="col">Uploader</th>
					</tr>
				</thead>
				<tbody class="table-group-divider">
					{% for file in files %}
					<tr scope="row">
						<td>{{ file.filename }}</td>
						<td class="user-select-all">{{ file.filekey }}</td>
						<td>{{ file.uploader.username }}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock %}